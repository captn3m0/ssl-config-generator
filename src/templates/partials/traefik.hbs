# generated with: {{{output.link}}}
[entryPoints]
[entryPoints.http.tls]

{{! See https://regexr.com/4f3e4 for an explanation of the regex. }}
minVersion = "{{replace (concat (last output.protocols) "0") (toregex "([A-Z]{3})v(\d)\.?(\d)0?") "Version$1$2$3" }}"

cipherSuites = [
	"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256",
	"TLS_RSA_WITH_AES_256_GCM_SHA384"
]

{{#if form.hsts}}
# Traefik configuration for HSTS is on a per-host basis,
# so the configuration goes inside the Provider

# If you are using the File Provider:
[file]
[frontends]
[frontends.application]
[frontends.application.headers]
SSLRedirect = true
SSLTemporaryRedirect = true
STSSeconds = {{output.hstsMaxAge}};

# Docker Provider, apply the following label:
# "traefik.frontend.headers.STSSeconds" = "{{output.hstsMaxAge}}"

# Kubernetes Provider, apply the following annotation on the Ingress:
# ingress.kubernetes.io/hsts-max-age: "{{output.hstsMaxAge}}"

{{/if}}